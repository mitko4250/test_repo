{
  "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Delete, Divide, Equal, Minus, Plus, X, Calculator } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\nexport default function GlassyCalculator() {\n  const [displayValue, setDisplayValue] = React.useState(\"0\")\n  const [firstOperand, setFirstOperand] = React.useState<number | null>(null)\n  const [operator, setOperator] = React.useState<string | null>(null)\n  const [waitingForSecondOperand, setWaitingForSecondOperand] = React.useState(false)\n\n  const inputDigit = (digit: string) => {\n    if (waitingForSecondOperand) {\n      setDisplayValue(digit)\n      setWaitingForSecondOperand(false)\n    } else {\n      setDisplayValue(displayValue === \"0\" ? digit : displayValue + digit)\n    }\n  }\n\n  const inputDecimal = () => {\n    if (waitingForSecondOperand) {\n      setDisplayValue(\"0.\")\n      setWaitingForSecondOperand(false)\n      return\n    }\n\n    if (!displayValue.includes(\".\")) {\n      setDisplayValue(displayValue + \".\")\n    }\n  }\n\n  const clearDisplay = () => {\n    setDisplayValue(\"0\")\n    setFirstOperand(null)\n    setOperator(null)\n    setWaitingForSecondOperand(false)\n  }\n\n  const performOperation = (nextOperator: string) => {\n    const inputValue = parseFloat(displayValue)\n\n    if (firstOperand === null) {\n      setFirstOperand(inputValue)\n    } else if (operator) {\n      const currentValue = firstOperand || 0\n      const newValue = calculate(currentValue, inputValue, operator)\n\n      setFirstOperand(newValue)\n      setDisplayValue(String(newValue))\n    }\n\n    setWaitingForSecondOperand(true)\n    setOperator(nextOperator)\n  }\n\n  const calculate = (first: number, second: number, op: string) => {\n    switch (op) {\n      case \"+\":\n        return first + second\n      case \"-\":\n        return first - second\n      case \"*\":\n        return first * second\n      case \"/\":\n        return first / second\n      case \"=\":\n        return second\n      default:\n        return second\n    }\n  }\n\n  const handleBackspace = () => {\n    if (waitingForSecondOperand) return\n    setDisplayValue(displayValue.length > 1 ? displayValue.slice(0, -1) : \"0\")\n  }\n\n  const toggleSign = () => {\n    const value = parseFloat(displayValue)\n    if (value !== 0) {\n      setDisplayValue(String(value * -1))\n    }\n  }\n\n  const handlePercent = () => {\n    const value = parseFloat(displayValue)\n    setDisplayValue(String(value / 100))\n  }\n\n  // Button configuration\n  const buttons = [\n    { label: \"AC\", action: clearDisplay, type: \"special\", className: \"col-span-1\" },\n    { label: \"Del\", action: handleBackspace, type: \"special\", icon: <Delete className=\"h-5 w-5\" /> }, // Added Backspace\n    { label: \"%\", action: handlePercent, type: \"special\" },\n    { label: \"/\", action: () => performOperation(\"/\"), type: \"operator\", icon: <Divide className=\"h-5 w-5\" /> },\n    { label: \"7\", action: () => inputDigit(\"7\"), type: \"number\" },\n    { label: \"8\", action: () => inputDigit(\"8\"), type: \"number\" },\n    { label: \"9\", action: () => inputDigit(\"9\"), type: \"number\" },\n    { label: \"*\", action: () => performOperation(\"*\"), type: \"operator\", icon: <X className=\"h-5 w-5\" /> },\n    { label: \"4\", action: () => inputDigit(\"4\"), type: \"number\" },\n    { label: \"5\", action: () => inputDigit(\"5\"), type: \"number\" },\n    { label: \"6\", action: () => inputDigit(\"6\"), type: \"number\" },\n    { label: \"-\", action: () => performOperation(\"-\"), type: \"operator\", icon: <Minus className=\"h-5 w-5\" /> },\n    { label: \"1\", action: () => inputDigit(\"1\"), type: \"number\" },\n    { label: \"2\", action: () => inputDigit(\"2\"), type: \"number\" },\n    { label: \"3\", action: () => inputDigit(\"3\"), type: \"number\" },\n    { label: \"+\", action: () => performOperation(\"+\"), type: \"operator\", icon: <Plus className=\"h-5 w-5\" /> },\n    { label: \"0\", action: () => inputDigit(\"0\"), type: \"number\", className: \"col-span-2 w-full\" },\n    { label: \".\", action: inputDecimal, type: \"number\" },\n    { label: \"=\", action: () => performOperation(\"=\"), type: \"operator\", icon: <Equal className=\"h-5 w-5\" /> },\n  ]\n\n  // Helper to determine button style based on type\n  const getButtonClass = (type: string) => {\n    switch (type) {\n      case \"operator\":\n        return \"bg-emerald-500/70 hover:bg-emerald-500/90 text-white border-white/20\"\n      case \"special\":\n        return \"bg-teal-100/40 hover:bg-teal-100/60 text-emerald-800 border-white/20 font-medium\"\n      default:\n        return \"bg-white/20 hover:bg-white/40 text-emerald-950 border-white/20 font-normal\"\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-emerald-100 via-teal-50 to-emerald-200 p-4\">\n      {/* Background Decorative Blobs */}\n      <div className=\"fixed top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0\">\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-green-300/30 rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-teal-300/30 rounded-full blur-3xl animate-pulse delay-1000\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-xs sm:max-w-sm\">\n        <div className=\"backdrop-blur-xl bg-white/20 border border-white/40 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] rounded-3xl p-6 overflow-hidden\">\n          \n          {/* Header */}\n          <div className=\"flex justify-between items-center mb-6 px-1\">\n            <div className=\"flex items-center gap-2 text-emerald-900/70\">\n              <Calculator className=\"h-4 w-4\" />\n              <span className=\"text-xs font-medium uppercase tracking-widest\">Mint Calc</span>\n            </div>\n            <div className=\"flex gap-1.5\">\n              <div className=\"w-2.5 h-2.5 rounded-full bg-red-400/80\" />\n              <div className=\"w-2.5 h-2.5 rounded-full bg-yellow-400/80\" />\n              <div className=\"w-2.5 h-2.5 rounded-full bg-green-400/80\" />\n            </div>\n          </div>\n\n          {/* Display */}\n          <div className=\"relative mb-6\">\n            <div className=\"w-full h-24 bg-gradient-to-r from-emerald-50/10 to-teal-50/10 rounded-2xl border border-white/20 flex flex-col items-end justify-center px-4 shadow-inner\">\n              <span className=\"text-emerald-900/60 text-sm h-6\">\n                {firstOperand !== null && operator ? `${firstOperand} ${operator}` : \"\"}\n              </span>\n              <div className=\"w-full overflow-x-auto text-right scrollbar-hide\">\n                 <span className=\"text-4xl font-light text-emerald-950 tracking-wide\">\n                  {displayValue}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Keypad */}\n          <div className=\"grid grid-cols-4 gap-3\">\n            {buttons.map((btn, i) => (\n              <Button\n                key={i}\n                onClick={btn.action}\n                variant=\"ghost\" \n                className={cn(\n                  \"h-14 sm:h-16 w-full rounded-2xl text-xl shadow-sm backdrop-blur-sm transition-all duration-200 active:scale-95 border\",\n                  getButtonClass(btn.type),\n                  btn.className\n                )}\n              >\n                {btn.icon || btn.label}\n              </Button>\n            ))}\n          </div>\n          \n          {/* Footer Decoration */}\n          <div className=\"mt-6 flex justify-center\">\n             <div className=\"w-16 h-1 rounded-full bg-emerald-900/10\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n",
  "isBinary": false,
  "path": "app/page.tsx"
}